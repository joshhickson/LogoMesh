
> logomesh@0.1.0 test
> vitest src/components/__tests__/Canvas.test.jsx

The CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.

 DEV  v3.2.4 /home/runner/workspace

stderr | src/components/__tests__/Canvas.test.jsx > Canvas > renders without crashing
Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
    at module.exports (/home/runner/workspace/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.getContext (/home/runner/workspace/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
    at HTMLCanvasElement.getContext (/home/runner/workspace/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
    at Renderer.CanvasRenderer (file:///home/runner/workspace/node_modules/cytoscape/dist/cytoscape.esm.mjs:34689:33)
    at new Renderer (file:///home/runner/workspace/node_modules/cytoscape/dist/cytoscape.esm.mjs:35148:26)
    at Core.initRenderer (file:///home/runner/workspace/node_modules/cytoscape/dist/cytoscape.esm.mjs:15657:28)
    at new Core (file:///home/runner/workspace/node_modules/cytoscape/dist/cytoscape.esm.mjs:19730:6)
    at cytoscape (file:///home/runner/workspace/node_modules/cytoscape/dist/cytoscape.esm.mjs:35319:12)
    at /home/runner/workspace/src/components/Canvas.jsx:26:33
    at commitHookEffectListMount (/home/runner/workspace/node_modules/react-dom/cjs/react-dom.development.js:23189:26) undefined
Error: Uncaught [Error: Could not create canvas of type 2d]
    at reportException (/home/runner/workspace/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/workspace/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/workspace/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/workspace/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/workspace/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/workspace/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/workspace/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/workspace/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/home/runner/workspace/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/home/runner/workspace/node_modules/react-dom/cjs/react-dom.development.js:27165:5) Error: Could not create canvas of type 2d
    at error (file:///home/runner/workspace/node_modules/cytoscape/dist/cytoscape.esm.mjs:1475:9)
    at Renderer.CanvasRenderer (file:///home/runner/workspace/node_modules/cytoscape/dist/cytoscape.esm.mjs:34691:7)
    at new Renderer (file:///home/runner/workspace/node_modules/cytoscape/dist/cytoscape.esm.mjs:35148:26)
    at Core.initRenderer (file:///home/runner/workspace/node_modules/cytoscape/dist/cytoscape.esm.mjs:15657:28)
    at new Core (file:///home/runner/workspace/node_modules/cytoscape/dist/cytoscape.esm.mjs:19730:6)
    at cytoscape (file:///home/runner/workspace/node_modules/cytoscape/dist/cytoscape.esm.mjs:35319:12)
    at /home/runner/workspace/src/components/Canvas.jsx:26:33
    at commitHookEffectListMount (/home/runner/workspace/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/home/runner/workspace/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/home/runner/workspace/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
The above error occurred in the <Canvas> component:

    at Canvas (/home/runner/workspace/src/components/Canvas.jsx:10:3)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

 ❯ src/components/__tests__/Canvas.test.jsx (1 test | 1 failed) 155ms
   × Canvas > renders without crashing 153ms
     → Could not create canvas of type 2d

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯ Failed Tests 1 ⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯

 FAIL  src/components/__tests__/Canvas.test.jsx > Canvas > renders without crashing
Error: Could not create canvas of type 2d
 ❯ error node_modules/cytoscape/dist/cytoscape.esm.mjs:1475:9
    1473| var noop$1 = function noop() {};
    1474| var error = function error(msg) {
    1475|   throw new Error(msg);
       |         ^
    1476| };
    1477| var warnings = function warnings(enabled) {
 ❯ Renderer.CanvasRenderer node_modules/cytoscape/dist/cytoscape.esm.mjs:34691:7
 ❯ new Renderer node_modules/cytoscape/dist/cytoscape.esm.mjs:35148:26
 ❯ Core.initRenderer node_modules/cytoscape/dist/cytoscape.esm.mjs:15657:28
 ❯ new Core node_modules/cytoscape/dist/cytoscape.esm.mjs:19730:6
 ❯ cytoscape node_modules/cytoscape/dist/cytoscape.esm.mjs:35319:12
 ❯ src/components/Canvas.jsx:26:33
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯


 Test Files  1 failed (1)
      Tests  1 failed (1)
   Start at  20:17:06
   Duration  2.77s (transform 139ms, setup 293ms, collect 393ms, tests 155ms, environment 894ms, prepare 189ms)

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
Cancelling test run. Press CTRL+c again to exit forcefully.

