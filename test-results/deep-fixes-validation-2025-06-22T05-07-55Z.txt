
> logomesh@0.1.0 test
> vitest --run

[33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m

 RUN  v3.2.4 /home/runner/workspace

 ‚ùØ src/services/__tests__/graphService.test.js (2 tests | 1 failed) 26ms
   √ó graphService > findThoughtsByTag returns thoughts with matching tag 21ms
     ‚Üí expected [] to deeply equal [ { properties: { ‚Ä¶(2) } } ]
   ‚úì graphService > findThoughtsByTag returns empty array for non-existent tag 1ms
 ‚ùØ src/utils/__tests__/dataHandlers.test.js (3 tests | 3 failed) 36ms
   √ó Data Handling > Export Handler > exports with correct metadata structure 30ms
     ‚Üí expected "spy" to be called at least once
   √ó Data Handling > Import Handler > normalizes legacy format thoughts 3ms
     ‚Üí document.createElement(...).onchange is not a function
   √ó Data Handling > Import Handler > handles modern format with metadata 2ms
     ‚Üí document.createElement(...).onchange is not a function
 ‚ùØ src/components/__tests__/Canvas.test.jsx (2 tests | 2 failed) 77ms
   √ó Canvas Component > renders without crashing 67ms
     ‚Üí [2mexpect([22m[31mreceived[39m[2m).toBeInTheDocument()[22m

[31mreceived[39m value must be an HTMLElement or an SVGElement.
Received has type:  Null
Received has value: [31mnull[39m
   √ó Canvas Component > canvas has proper dimensions 8ms
     ‚Üí Cannot convert undefined or null to object
stdout | src/components/__tests__/debug-component-rendering.test.jsx > Component Rendering Debug > diagnostic: what actually renders from AddThoughtModal
=== BEFORE RENDER ===
React version: 18.3.1
Props: {
  isVisible: [33mtrue[39m,
  onClose: [Function: spy] {
    getMockName: [36m[Function (anonymous)][39m,
    mockName: [36m[Function (anonymous)][39m,
    mockClear: [36m[Function (anonymous)][39m,
    mockReset: [36m[Function (anonymous)][39m,
    mockRestore: [36m[Function (anonymous)][39m,
    getMockImplementation: [36m[Function (anonymous)][39m,
    mockImplementation: [36m[Function (anonymous)][39m,
    mockImplementationOnce: [36m[Function (anonymous)][39m,
    withImplementation: [36m[Function: withImplementation][39m,
    mockReturnThis: [36m[Function (anonymous)][39m,
    mockReturnValue: [36m[Function (anonymous)][39m,
    mockReturnValueOnce: [36m[Function (anonymous)][39m,
    mockResolvedValue: [36m[Function (anonymous)][39m,
    mockResolvedValueOnce: [36m[Function (anonymous)][39m,
    mockRejectedValue: [36m[Function (anonymous)][39m,
    mockRejectedValueOnce: [36m[Function (anonymous)][39m,
    [[32mSymbol(nodejs.dispose)[39m]: [36m[Function (anonymous)][39m
  },
  onAddThought: [Function: spy] {
    getMockName: [36m[Function (anonymous)][39m,
    mockName: [36m[Function (anonymous)][39m,
    mockClear: [36m[Function (anonymous)][39m,
    mockReset: [36m[Function (anonymous)][39m,
    mockRestore: [36m[Function (anonymous)][39m,
    getMockImplementation: [36m[Function (anonymous)][39m,
    mockImplementation: [36m[Function (anonymous)][39m,
    mockImplementationOnce: [36m[Function (anonymous)][39m,
    withImplementation: [36m[Function: withImplementation][39m,
    mockReturnThis: [36m[Function (anonymous)][39m,
    mockReturnValue: [36m[Function (anonymous)][39m,
    mockReturnValueOnce: [36m[Function (anonymous)][39m,
    mockResolvedValue: [36m[Function (anonymous)][39m,
    mockResolvedValueOnce: [36m[Function (anonymous)][39m,
    mockRejectedValue: [36m[Function (anonymous)][39m,
    mockRejectedValueOnce: [36m[Function (anonymous)][39m,
    [[32mSymbol(nodejs.dispose)[39m]: [36m[Function (anonymous)][39m
  },
  existingThoughts: []
}
=== AFTER RENDER ===
Container HTML: <div class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center overflow-y-auto"><div class="bg-white dark:bg-gray-800 p-6 rounded shadow-md w-11/12 max-w-2xl"><h2 class="text-lg font-bold mb-4">Add New Thought</h2><input type="text" placeholder="Title" class="w-full mb-2 p-2 border rounded" value=""><div class="relative w-full mb-2"><div class="relative"><textarea placeholder="Description" class="w-full p-2 border rounded"></textarea></div><button type="button" class="absolute right-2 bottom-2 p-2 rounded-full bg-gray-200" title="Start recording"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg></button></div><div><input type="text" placeholder="Add Tag" class="w-full mb-2 p-2 border rounded"><ul></ul></div><input type="color" class="w-full mb-4" value="#f97316"><div class="mb-4"><h3 class="text-md font-semibold mb-2">Segments</h3><button class="w-full mt-2 bg-green-500 text-white py-1 rounded">+ Add Segment</button></div><button class="w-full bg-blue-500 text-white py-2 rounded mb-2">Add Thought</button><button class="w-full bg-gray-300 dark:bg-gray-600 text-black dark:text-white py-2 rounded">Cancel</button></div></div>
Document body: <div><div class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center overflow-y-auto"><div class="bg-white dark:bg-gray-800 p-6 rounded shadow-md w-11/12 max-w-2xl"><h2 class="text-lg font-bold mb-4">Add New Thought</h2><input type="text" placeholder="Title" class="w-full mb-2 p-2 border rounded" value=""><div class="relative w-full mb-2"><div class="relative"><textarea placeholder="Description" class="w-full p-2 border rounded"></textarea></div><button type="button" class="absolute right-2 bottom-2 p-2 rounded-full bg-gray-200" title="Start recording"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg></button></div><div><input type="text" placeholder="Add Tag" class="w-full mb-2 p-2 border rounded"><ul></ul></div><input type="color" class="w-full mb-4" value="#f97316"><div class="mb-4"><h3 class="text-md font-semibold mb-2">Segments</h3><button class="w-full mt-2 bg-green-500 text-white py-1 rounded">+ Add Segment</button></div><button class="w-full bg-blue-500 text-white py-2 rounded mb-2">Add Thought</button><button class="w-full bg-gray-300 dark:bg-gray-600 text-black dark:text-white py-2 rounded">Cancel</button></div></div></div>

stdout | src/components/__tests__/debug-component-rendering.test.jsx > Component Rendering Debug > diagnostic: simple div rendering test
=== SIMPLE COMPONENT TEST ===
Simple component HTML: <div data-testid="test-div">Hello World</div>

 ‚ùØ src/components/__tests__/debug-component-rendering.test.jsx (2 tests | 2 failed) 78ms
   √ó Component Rendering Debug > diagnostic: what actually renders from AddThoughtModal 70ms
     ‚Üí (0 , debug) is not a function
   √ó Component Rendering Debug > diagnostic: simple div rendering test 6ms
     ‚Üí (0 , debug) is not a function
 ‚ùØ src/components/__tests__/AddThoughtModal.test.jsx (8 tests | 1 failed) 332ms
   ‚úì AddThoughtModal > renders modal with title input 72ms
   ‚úì AddThoughtModal > renders Add Thought button 37ms
   ‚úì AddThoughtModal > renders all form elements 21ms
   ‚úì AddThoughtModal > validates title before submission 17ms
   ‚úì AddThoughtModal > adds and updates segments 70ms
   ‚úì AddThoughtModal > handles tag addition 19ms
   ‚úì AddThoughtModal > creates thought with correct data structure 49ms
   √ó handles voice input correctly 45ms
     ‚Üí expected "spy" to be called with arguments: [ Array(1) ][90m

Number of calls: [1m0[22m
[39m
stderr | src/App.test.jsx > renders main app components
Backend API not available: Error: [vitest] No "apiService" export is defined on the "./services/apiService" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError [90m(file:///home/runner/workspace/[39mnode_modules/[4mvitest[24m/dist/chunks/execute.B7h3T_Hc.js:284:17[90m)[39m
    at Object.get [90m(file:///home/runner/workspace/[39mnode_modules/[4mvitest[24m/dist/chunks/execute.B7h3T_Hc.js:330:16[90m)[39m
    at loadInitialData [90m(/home/runner/workspace/[39msrc/App.jsx:103:40[90m)[39m
    at [90m/home/runner/workspace/[39msrc/App.jsx:112:5
    at commitHookEffectListMount [90m(/home/runner/workspace/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:23189:26[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/runner/workspace/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:24970:11[90m)[39m
    at commitPassiveMountEffects_complete [90m(/home/runner/workspace/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:24930:9[90m)[39m
    at commitPassiveMountEffects_begin [90m(/home/runner/workspace/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:24917:7[90m)[39m
    at commitPassiveMountEffects [90m(/home/runner/workspace/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:24905:3[90m)[39m
    at flushPassiveEffectsImpl [90m(/home/runner/workspace/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:27078:3[90m)[39m {
  codeFrame: [32m'vi\x1B[33m.\x1B[39m\x1B[34mmock\x1B[39m(\x1B[35mimport\x1B[39m(\x1B[32m"./services/apiService"\x1B[39m)\x1B[33m,\x1B[39m \x1B[35masync\x1B[39m (importOriginal) \x1B[33m=>\x1B[39m {\n'[39m +
    [32m'  \x1B[35mconst\x1B[39m actual \x1B[33m=\x1B[39m \x1B[35mawait\x1B[39m \x1B[34mimportOriginal\x1B[39m()\n'[39m +
    [32m'  \x1B[35mreturn\x1B[39m {\n'[39m +
    [32m'    \x1B[33m...\x1B[39mactual\x1B[33m,\x1B[39m\n'[39m +
    [32m'    \x1B[90m// your mocked methods\x1B[39m\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

 ‚úì src/App.test.jsx (1 test) 109ms
 ‚ùØ src/components/__tests__/ThoughtDetailPanel.test.jsx (2 tests | 2 failed) 260ms
   √ó ThoughtDetailPanel > renders thought details 65ms
     ‚Üí Unable to find an element with the text: Test Thought. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-1/4 p-4 border-l bg-gray-50 dark:bg-gray-800 overflow-y-auto"[39m
    [36m>[39m
      [36m<input[39m
        [33mclass[39m=[32m"text-lg font-bold mb-2 w-full bg-transparent border-b border-transparent hover:border-gray-300 focus:border-blue-500 outline-none"[39m
        [33mtype[39m=[32m"text"[39m
        [33mvalue[39m=[32m"Test Thought"[39m
      [36m/>[39m
      [36m<textarea[39m
        [33mclass[39m=[32m"mb-2 w-full bg-transparent border border-transparent hover:border-gray-300 focus:border-blue-500 outline-none resize-y"[39m
      [36m/>[39m
      [36m<p[39m
        [33mclass[39m=[32m"mb-2 text-sm text-gray-500"[39m
      [36m>[39m
        [0mCreated: [0m
        [0mInvalid Date[0m
      [36m</p>[39m
      [36m<div[39m
        [33mclass[39m=[32m"mb-4"[39m
      [36m>[39m
        [36m<strong>[39m
          [0mTags:[0m
        [36m</strong>[39m
        [36m<ul[39m
          [33mclass[39m=[32m"mt-1"[39m
        [36m/>[39m
      [36m</div>[39m
      [36m<div>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-md font-semibold mb-2"[39m
        [36m>[39m
          [0mSegments:[0m
        [36m</h3>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   √ó ThoughtDetailPanel > handles close action 187ms
     ‚Üí Unable to find an accessible element with the role "button" and name `/close/i`

Here are the accessible roles:

  textbox:

  Name "":
  [36m<input[39m
    [33mclass[39m=[32m"text-lg font-bold mb-2 w-full bg-transparent border-b border-transparent hover:border-gray-300 focus:border-blue-500 outline-none"[39m
    [33mtype[39m=[32m"text"[39m
    [33mvalue[39m=[32m"Test Thought"[39m
  [36m/>[39m

  Name "":
  [36m<textarea[39m
    [33mclass[39m=[32m"mb-2 w-full bg-transparent border border-transparent hover:border-gray-300 focus:border-blue-500 outline-none resize-y"[39m
  [36m/>[39m

  --------------------------------------------------
  paragraph:

  Name "":
  [36m<p[39m
    [33mclass[39m=[32m"mb-2 text-sm text-gray-500"[39m
  [36m/>[39m

  --------------------------------------------------
  strong:

  Name "":
  [36m<strong />[39m

  --------------------------------------------------
  list:

  Name "":
  [36m<ul[39m
    [33mclass[39m=[32m"mt-1"[39m
  [36m/>[39m

  --------------------------------------------------
  heading:

  Name "Segments:":
  [36m<h3[39m
    [33mclass[39m=[32m"text-md font-semibold mb-2"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-1/4 p-4 border-l bg-gray-50 dark:bg-gray-800 overflow-y-auto"[39m
    [36m>[39m
      [36m<input[39m
        [33mclass[39m=[32m"text-lg font-bold mb-2 w-full bg-transparent border-b border-transparent hover:border-gray-300 focus:border-blue-500 outline-none"[39m
        [33mtype[39m=[32m"text"[39m
        [33mvalue[39m=[32m"Test Thought"[39m
      [36m/>[39m
      [36m<textarea[39m
        [33mclass[39m=[32m"mb-2 w-full bg-transparent border border-transparent hover:border-gray-300 focus:border-blue-500 outline-none resize-y"[39m
      [36m/>[39m
      [36m<p[39m
        [33mclass[39m=[32m"mb-2 text-sm text-gray-500"[39m
      [36m>[39m
        [0mCreated: [0m
        [0mInvalid Date[0m
      [36m</p>[39m
      [36m<div[39m
        [33mclass[39m=[32m"mb-4"[39m
      [36m>[39m
        [36m<strong>[39m
          [0mTags:[0m
        [36m</strong>[39m
        [36m<ul[39m
          [33mclass[39m=[32m"mt-1"[39m
        [36m/>[39m
      [36m</div>[39m
      [36m<div>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-md font-semibold mb-2"[39m
        [36m>[39m
          [0mSegments:[0m
        [36m</h3>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ‚ùØ src/utils/__tests__/VoiceInputManager.test.js (6 tests | 6 failed) 21ms
   √ó VoiceInputManager > initializes with correct configuration 12ms
     ‚Üí Cannot read properties of undefined (reading 'continuous')
   √ó VoiceInputManager > handles start/stop listening correctly 2ms
     ‚Üí Cannot read properties of undefined (reading 'start')
   √ó VoiceInputManager > handles speech recognition results 1ms
     ‚Üí Cannot read properties of undefined (reading 'onresult')
   √ó VoiceInputManager > handles speech recognition errors 1ms
     ‚Üí Cannot read properties of undefined (reading 'onerror')
   √ó VoiceInputManager > checks browser support correctly 2ms
     ‚Üí window.webkitSpeechRecognition is not a constructor
   √ó VoiceInputManager > should initialize with default options 1ms
     ‚Üí window.webkitSpeechRecognition is not a constructor
 ‚úì src/components/__tests__/Sidebar.test.jsx (4 tests) 371ms
stdout | src/__tests__/mock-analysis.test.js > Mock Analysis > check what mocks are active
=== ACTIVE MOCKS ANALYSIS ===

 ‚ùØ src/__tests__/mock-analysis.test.js (1 test | 1 failed) 24ms
   √ó Mock Analysis > check what mocks are active 20ms
     ‚Üí Cannot access 'React' before initialization
 ‚úì src/utils/__tests__/eventBus.test.js (3 tests) 7ms
stdout | src/components/__tests__/minimal-render-test.test.jsx > Minimal React Rendering Test > can render a basic div element
=== MINIMAL RENDER TEST ===
Container innerHTML: <div data-testid="test-element">Hello World</div>
Document body innerHTML: <div><div data-testid="test-element">Hello World</div></div>

stdout | src/components/__tests__/minimal-render-test.test.jsx > Minimal React Rendering Test > can render with React.createElement directly
=== DIRECT ELEMENT TEST ===
Container innerHTML: <div data-testid="direct-element">Direct Element</div>

 ‚úì src/components/__tests__/minimal-render-test.test.jsx (2 tests) 51ms
stdout | src/components/__tests__/fundamental-react-test.test.jsx > Fundamental React Test > check if JSX transformation works
=== TESTING JSX TRANSFORMATION ===
JSX element: {
  [32m'$$typeof'[39m: [32mSymbol(react.element)[39m,
  type: [32m'div'[39m,
  key: [1mnull[22m,
  ref: [1mnull[22m,
  props: { children: [32m'JSX Test'[39m },
  _owner: [1mnull[22m,
  _store: {}
}
createElement result: {
  [32m'$$typeof'[39m: [32mSymbol(react.element)[39m,
  type: [32m'div'[39m,
  key: [1mnull[22m,
  ref: [1mnull[22m,
  props: { children: [32m'createElement Test'[39m },
  _owner: [1mnull[22m,
  _store: {}
}
Container after render: <div>JSX Test</div>
Document body: <div><div>JSX Test</div></div>

stdout | src/components/__tests__/fundamental-react-test.test.jsx > Fundamental React Test > check React Testing Library setup
=== TESTING RTL SETUP ===
Found element: [36m<ref *1>[39m HTMLSpanElement {
  [32m'__reactFiber$nl9cu7qib5q'[39m: [36m<ref *2>[39m FiberNode {
    tag: [33m5[39m,
    key: [1mnull[22m,
    elementType: [32m'span'[39m,
    type: [32m'span'[39m,
    stateNode: [36m[Circular *1][39m,
    return: FiberNode {
      tag: [33m3[39m,
      key: [1mnull[22m,
      elementType: [1mnull[22m,
      type: [1mnull[22m,
      stateNode: [36m[FiberRootNode][39m,
      return: [1mnull[22m,
      child: [36m[Circular *2][39m,
      sibling: [1mnull[22m,
      index: [33m0[39m,
      ref: [1mnull[22m,
      pendingProps: [1mnull[22m,
      memoizedProps: [1mnull[22m,
      updateQueue: [36m[Object][39m,
      memoizedState: [36m[Object][39m,
      dependencies: [1mnull[22m,
      mode: [33m1[39m,
      flags: [33m1024[39m,
      subtreeFlags: [33m2[39m,
      deletions: [1mnull[22m,
      lanes: [33m0[39m,
      childLanes: [33m0[39m,
      alternate: [36m[FiberNode][39m,
      actualDuration: [33m0[39m,
      actualStartTime: [33m-1[39m,
      selfBaseDuration: [33m0[39m,
      treeBaseDuration: [33m0[39m,
      _debugSource: [1mnull[22m,
      _debugOwner: [1mnull[22m,
      _debugNeedsRemount: [33mfalse[39m,
      _debugHookTypes: [1mnull[22m
    },
    child: [1mnull[22m,
    sibling: [1mnull[22m,
    index: [33m0[39m,
    ref: [1mnull[22m,
    pendingProps: { [32m'data-testid'[39m: [32m'test-element'[39m, children: [32m'Test Content'[39m },
    memoizedProps: { [32m'data-testid'[39m: [32m'test-element'[39m, children: [32m'Test Content'[39m },
    updateQueue: [1mnull[22m,
    memoizedState: [1mnull[22m,
    dependencies: [1mnull[22m,
    mode: [33m1[39m,
    flags: [33m0[39m,
    subtreeFlags: [33m0[39m,
    deletions: [1mnull[22m,
    lanes: [33m0[39m,
    childLanes: [33m0[39m,
    alternate: [1mnull[22m,
    actualDuration: [33m0[39m,
    actualStartTime: [33m-1[39m,
    selfBaseDuration: [33m0[39m,
    treeBaseDuration: [33m0[39m,
    _debugSource: {
      fileName: [32m'/home/runner/workspace/src/components/__tests__/fundamental-react-test.test.jsx'[39m,
      lineNumber: [33m29[39m,
      columnNumber: [33m12[39m
    },
    _debugOwner: [1mnull[22m,
    _debugNeedsRemount: [33mfalse[39m,
    _debugHookTypes: [1mnull[22m
  },
  [32m'__reactProps$nl9cu7qib5q'[39m: { [32m'data-testid'[39m: [32m'test-element'[39m, children: [32m'Test Content'[39m }
}
Element innerHTML: Test Content

 ‚úì src/components/__tests__/fundamental-react-test.test.jsx (2 tests) 59ms
stdout | src/components/__tests__/rtl-connection-test.test.jsx > RTL DOM Connection Debug > diagnose RTL DOM connection
=== RTL DOM CONNECTION TEST ===
Container HTML: <div data-testid="connection-test">RTL Test</div>
Document body HTML: <div><div data-testid="connection-test">RTL Test</div></div>
Container parent: HTMLBodyElement {}
Document.querySelector result: [36m<ref *1>[39m HTMLDivElement {
  [32m'__reactFiber$wcehj1xujkh'[39m: [36m<ref *2>[39m FiberNode {
    tag: [33m5[39m,
    key: [1mnull[22m,
    elementType: [32m'div'[39m,
    type: [32m'div'[39m,
    stateNode: [36m[Circular *1][39m,
    return: FiberNode {
      tag: [33m3[39m,
      key: [1mnull[22m,
      elementType: [1mnull[22m,
      type: [1mnull[22m,
      stateNode: [36m[FiberRootNode][39m,
      return: [1mnull[22m,
      child: [36m[Circular *2][39m,
      sibling: [1mnull[22m,
      index: [33m0[39m,
      ref: [1mnull[22m,
      pendingProps: [1mnull[22m,
      memoizedProps: [1mnull[22m,
      updateQueue: [36m[Object][39m,
      memoizedState: [36m[Object][39m,
      dependencies: [1mnull[22m,
      mode: [33m1[39m,
      flags: [33m1024[39m,
      subtreeFlags: [33m2[39m,
      deletions: [1mnull[22m,
      lanes: [33m0[39m,
      childLanes: [33m0[39m,
      alternate: [36m[FiberNode][39m,
      actualDuration: [33m0[39m,
      actualStartTime: [33m-1[39m,
      selfBaseDuration: [33m0[39m,
      treeBaseDuration: [33m0[39m,
      _debugSource: [1mnull[22m,
      _debugOwner: [1mnull[22m,
      _debugNeedsRemount: [33mfalse[39m,
      _debugHookTypes: [1mnull[22m
    },
    child: [1mnull[22m,
    sibling: [1mnull[22m,
    index: [33m0[39m,
    ref: [1mnull[22m,
    pendingProps: { [32m'data-testid'[39m: [32m'connection-test'[39m, children: [32m'RTL Test'[39m },
    memoizedProps: { [32m'data-testid'[39m: [32m'connection-test'[39m, children: [32m'RTL Test'[39m },
    updateQueue: [1mnull[22m,
    memoizedState: [1mnull[22m,
    dependencies: [1mnull[22m,
    mode: [33m1[39m,
    flags: [33m0[39m,
    subtreeFlags: [33m0[39m,
    deletions: [1mnull[22m,
    lanes: [33m0[39m,
    childLanes: [33m0[39m,
    alternate: [1mnull[22m,
    actualDuration: [33m0[39m,
    actualStartTime: [33m-1[39m,
    selfBaseDuration: [33m0[39m,
    treeBaseDuration: [33m0[39m,
    _debugSource: {
      fileName: [32m'/home/runner/workspace/src/components/__tests__/rtl-connection-test.test.jsx'[39m,
      lineNumber: [33m13[39m,
      columnNumber: [33m34[39m
    },
    _debugOwner: [1mnull[22m,
    _debugNeedsRemount: [33mfalse[39m,
    _debugHookTypes: [1mnull[22m
  },
  [32m'__reactProps$wcehj1xujkh'[39m: { [32m'data-testid'[39m: [32m'connection-test'[39m, children: [32m'RTL Test'[39m }
}
Screen debug:
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mdata-testid[39m=[32m"connection-test"[39m
    [36m>[39m
      [0mRTL Test[0m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
getByTestId result: [36m<ref *1>[39m HTMLDivElement {
  [32m'__reactFiber$wcehj1xujkh'[39m: [36m<ref *2>[39m FiberNode {
    tag: [33m5[39m,
    key: [1mnull[22m,
    elementType: [32m'div'[39m,
    type: [32m'div'[39m,
    stateNode: [36m[Circular *1][39m,
    return: FiberNode {
      tag: [33m3[39m,
      key: [1mnull[22m,
      elementType: [1mnull[22m,
      type: [1mnull[22m,
      stateNode: [36m[FiberRootNode][39m,
      return: [1mnull[22m,
      child: [36m[Circular *2][39m,
      sibling: [1mnull[22m,
      index: [33m0[39m,
      ref: [1mnull[22m,
      pendingProps: [1mnull[22m,
      memoizedProps: [1mnull[22m,
      updateQueue: [36m[Object][39m,
      memoizedState: [36m[Object][39m,
      dependencies: [1mnull[22m,
      mode: [33m1[39m,
      flags: [33m1024[39m,
      subtreeFlags: [33m2[39m,
      deletions: [1mnull[22m,
      lanes: [33m0[39m,
      childLanes: [33m0[39m,
      alternate: [36m[FiberNode][39m,
      actualDuration: [33m0[39m,
      actualStartTime: [33m-1[39m,
      selfBaseDuration: [33m0[39m,
      treeBaseDuration: [33m0[39m,
      _debugSource: [1mnull[22m,
      _debugOwner: [1mnull[22m,
      _debugNeedsRemount: [33mfalse[39m,
      _debugHookTypes: [1mnull[22m
    },
    child: [1mnull[22m,
    sibling: [1mnull[22m,
    index: [33m0[39m,
    ref: [1mnull[22m,
    pendingProps: { [32m'data-testid'[39m: [32m'connection-test'[39m, children: [32m'RTL Test'[39m },
    memoizedProps: { [32m'data-testid'[39m: [32m'connection-test'[39m, children: [32m'RTL Test'[39m },
    updateQueue: [1mnull[22m,
    memoizedState: [1mnull[22m,
    dependencies: [1mnull[22m,
    mode: [33m1[39m,
    flags: [33m0[39m,
    subtreeFlags: [33m0[39m,
    deletions: [1mnull[22m,
    lanes: [33m0[39m,
    childLanes: [33m0[39m,
    alternate: [1mnull[22m,
    actualDuration: [33m0[39m,
    actualStartTime: [33m-1[39m,
    selfBaseDuration: [33m0[39m,
    treeBaseDuration: [33m0[39m,
    _debugSource: {
      fileName: [32m'/home/runner/workspace/src/components/__tests__/rtl-connection-test.test.jsx'[39m,
      lineNumber: [33m13[39m,
      columnNumber: [33m34[39m
    },
    _debugOwner: [1mnull[22m,
    _debugNeedsRemount: [33mfalse[39m,
    _debugHookTypes: [1mnull[22m
  },
  [32m'__reactProps$wcehj1xujkh'[39m: { [32m'data-testid'[39m: [32m'connection-test'[39m, children: [32m'RTL Test'[39m },
  [[32mSymbol(SameObject caches)[39m]: [Object: null prototype] {
    attributes: NamedNodeMap {},
    childNodes: NodeList {}
  }
}
container.querySelector result: [36m<ref *1>[39m HTMLDivElement {
  [32m'__reactFiber$wcehj1xujkh'[39m: [36m<ref *2>[39m FiberNode {
    tag: [33m5[39m,
    key: [1mnull[22m,
    elementType: [32m'div'[39m,
    type: [32m'div'[39m,
    stateNode: [36m[Circular *1][39m,
    return: FiberNode {
      tag: [33m3[39m,
      key: [1mnull[22m,
      elementType: [1mnull[22m,
      type: [1mnull[22m,
      stateNode: [36m[FiberRootNode][39m,
      return: [1mnull[22m,
      child: [36m[Circular *2][39m,
      sibling: [1mnull[22m,
      index: [33m0[39m,
      ref: [1mnull[22m,
      pendingProps: [1mnull[22m,
      memoizedProps: [1mnull[22m,
      updateQueue: [36m[Object][39m,
      memoizedState: [36m[Object][39m,
      dependencies: [1mnull[22m,
      mode: [33m1[39m,
      flags: [33m1024[39m,
      subtreeFlags: [33m2[39m,
      deletions: [1mnull[22m,
      lanes: [33m0[39m,
      childLanes: [33m0[39m,
      alternate: [36m[FiberNode][39m,
      actualDuration: [33m0[39m,
      actualStartTime: [33m-1[39m,
      selfBaseDuration: [33m0[39m,
      treeBaseDuration: [33m0[39m,
      _debugSource: [1mnull[22m,
      _debugOwner: [1mnull[22m,
      _debugNeedsRemount: [33mfalse[39m,
      _debugHookTypes: [1mnull[22m
    },
    child: [1mnull[22m,
    sibling: [1mnull[22m,
    index: [33m0[39m,
    ref: [1mnull[22m,
    pendingProps: { [32m'data-testid'[39m: [32m'connection-test'[39m, children: [32m'RTL Test'[39m },
    memoizedProps: { [32m'data-testid'[39m: [32m'connection-test'[39m, children: [32m'RTL Test'[39m },
    updateQueue: [1mnull[22m,
    memoizedState: [1mnull[22m,
    dependencies: [1mnull[22m,
    mode: [33m1[39m,
    flags: [33m0[39m,
    subtreeFlags: [33m0[39m,
    deletions: [1mnull[22m,
    lanes: [33m0[39m,
    childLanes: [33m0[39m,
    alternate: [1mnull[22m,
    actualDuration: [33m0[39m,
    actualStartTime: [33m-1[39m,
    selfBaseDuration: [33m0[39m,
    treeBaseDuration: [33m0[39m,
    _debugSource: {
      fileName: [32m'/home/runner/workspace/src/components/__tests__/rtl-connection-test.test.jsx'[39m,
      lineNumber: [33m13[39m,
      columnNumber: [33m34[39m
    },
    _debugOwner: [1mnull[22m,
    _debugNeedsRemount: [33mfalse[39m,
    _debugHookTypes: [1mnull[22m
  },
  [32m'__reactProps$wcehj1xujkh'[39m: { [32m'data-testid'[39m: [32m'connection-test'[39m, children: [32m'RTL Test'[39m },
  [[32mSymbol(SameObject caches)[39m]: [Object: null prototype] {
    attributes: NamedNodeMap {},
    childNodes: NodeList {}
  }
}

 ‚úì src/components/__tests__/rtl-connection-test.test.jsx (1 test) 85ms
stdout | src/components/__tests__/step-by-step-debug.test.jsx > Step by Step Component Debug > Step 1: Raw HTML rendering
‚úÖ Raw HTML works

stdout | src/components/__tests__/step-by-step-debug.test.jsx > Step by Step Component Debug > Step 2: React.createElement direct
createElement result HTML: <div data-testid="react-element">React Element Test</div>
‚úÖ React.createElement works

stdout | src/components/__tests__/step-by-step-debug.test.jsx > Step by Step Component Debug > Step 3: Simple functional component
SimpleComponent rendering...
Simple component HTML: <div data-testid="simple-component">Simple Component Test</div>
‚úÖ Simple functional component works

stdout | src/components/__tests__/step-by-step-debug.test.jsx > Step by Step Component Debug > Step 4: Component with JSX
JSXComponent rendering...
JSX component HTML: <div data-testid="jsx-component">JSX Component Test</div>
‚úÖ JSX component works

 ‚úì src/components/__tests__/step-by-step-debug.test.jsx (4 tests) 71ms

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Tests 18 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  src/__tests__/mock-analysis.test.js > Mock Analysis > check what mocks are active
ReferenceError: Cannot access 'React' before initialization
 ‚ùØ src/__tests__/mock-analysis.test.js:9:78
      7|     
      8|     // Check if our mocks are working
      9|     console.log('vi.isMockFunction(React.createElement):', vi.isMockFu‚Ä¶
       |                                                                              ^
     10|     
     11|     // Check global objects

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/18]‚éØ

 FAIL  src/components/__tests__/AddThoughtModal.test.jsx > handles voice input correctly
AssertionError: expected "spy" to be called with arguments: [ Array(1) ][90m

Number of calls: [1m0[22m
[39m
 ‚ùØ src/components/__tests__/AddThoughtModal.test.jsx:210:24
    208|   delete window.webkitSpeechRecognition;
    209|   fireEvent.click(micButton);
    210|   expect(window.alert).toHaveBeenCalledWith(
       |                        ^
    211|     'Speech recognition is not supported in your browser'
    212|   );

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/18]‚éØ

 FAIL  src/components/__tests__/Canvas.test.jsx > Canvas Component > renders without crashing
Error: [2mexpect([22m[31mreceived[39m[2m).toBeInTheDocument()[22m

[31mreceived[39m value must be an HTMLElement or an SVGElement.
Received has type:  Null
Received has value: [31mnull[39m
 ‚ùØ src/components/__tests__/Canvas.test.jsx:50:20
     48|     // Check if canvas element is rendered
     49|     const canvas = container.querySelector('canvas');
     50|     expect(canvas).toBeInTheDocument();
       |                    ^
     51| 
     52|     // Test canvas context mock

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[3/18]‚éØ

 FAIL  src/components/__tests__/Canvas.test.jsx > Canvas Component > canvas has proper dimensions
TypeError: Cannot convert undefined or null to object
 ‚ùØ src/components/__tests__/Canvas.test.jsx:60:20
     58|     const canvas = container.querySelector('canvas');
     59| 
     60|     expect(canvas).toHaveProperty('width');
       |                    ^
     61|     expect(canvas).toHaveProperty('height');
     62|   });

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[4/18]‚éØ

 FAIL  src/components/__tests__/ThoughtDetailPanel.test.jsx > ThoughtDetailPanel > renders thought details
TestingLibraryElementError: Unable to find an element with the text: Test Thought. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-1/4 p-4 border-l bg-gray-50 dark:bg-gray-800 overflow-y-auto"[39m
    [36m>[39m
      [36m<input[39m
        [33mclass[39m=[32m"text-lg font-bold mb-2 w-full bg-transparent border-b border-transparent hover:border-gray-300 focus:border-blue-500 outline-none"[39m
        [33mtype[39m=[32m"text"[39m
        [33mvalue[39m=[32m"Test Thought"[39m
      [36m/>[39m
      [36m<textarea[39m
        [33mclass[39m=[32m"mb-2 w-full bg-transparent border border-transparent hover:border-gray-300 focus:border-blue-500 outline-none resize-y"[39m
      [36m/>[39m
      [36m<p[39m
        [33mclass[39m=[32m"mb-2 text-sm text-gray-500"[39m
      [36m>[39m
        [0mCreated: [0m
        [0mInvalid Date[0m
      [36m</p>[39m
      [36m<div[39m
        [33mclass[39m=[32m"mb-4"[39m
      [36m>[39m
        [36m<strong>[39m
          [0mTags:[0m
        [36m</strong>[39m
        [36m<ul[39m
          [33mclass[39m=[32m"mt-1"[39m
        [36m/>[39m
      [36m</div>[39m
      [36m<div>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-md font-semibold mb-2"[39m
        [36m>[39m
          [0mSegments:[0m
        [36m</h3>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ‚ùØ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ‚ùØ src/components/__tests__/ThoughtDetailPanel.test.jsx:20:19
     18|     render(<ThoughtDetailPanel {...mockProps} />);
     19| 
     20|     expect(screen.getByText('Test Thought')).toBeInTheDocument();
       |                   ^
     21|     expect(screen.getByText('Test content')).toBeInTheDocument();
     22|   });

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[5/18]‚éØ

 FAIL  src/components/__tests__/ThoughtDetailPanel.test.jsx > ThoughtDetailPanel > handles close action
TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/close/i`

Here are the accessible roles:

  textbox:

  Name "":
  [36m<input[39m
    [33mclass[39m=[32m"text-lg font-bold mb-2 w-full bg-transparent border-b border-transparent hover:border-gray-300 focus:border-blue-500 outline-none"[39m
    [33mtype[39m=[32m"text"[39m
    [33mvalue[39m=[32m"Test Thought"[39m
  [36m/>[39m

  Name "":
  [36m<textarea[39m
    [33mclass[39m=[32m"mb-2 w-full bg-transparent border border-transparent hover:border-gray-300 focus:border-blue-500 outline-none resize-y"[39m
  [36m/>[39m

  --------------------------------------------------
  paragraph:

  Name "":
  [36m<p[39m
    [33mclass[39m=[32m"mb-2 text-sm text-gray-500"[39m
  [36m/>[39m

  --------------------------------------------------
  strong:

  Name "":
  [36m<strong />[39m

  --------------------------------------------------
  list:

  Name "":
  [36m<ul[39m
    [33mclass[39m=[32m"mt-1"[39m
  [36m/>[39m

  --------------------------------------------------
  heading:

  Name "Segments:":
  [36m<h3[39m
    [33mclass[39m=[32m"text-md font-semibold mb-2"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-1/4 p-4 border-l bg-gray-50 dark:bg-gray-800 overflow-y-auto"[39m
    [36m>[39m
      [36m<input[39m
        [33mclass[39m=[32m"text-lg font-bold mb-2 w-full bg-transparent border-b border-transparent hover:border-gray-300 focus:border-blue-500 outline-none"[39m
        [33mtype[39m=[32m"text"[39m
        [33mvalue[39m=[32m"Test Thought"[39m
      [36m/>[39m
      [36m<textarea[39m
        [33mclass[39m=[32m"mb-2 w-full bg-transparent border border-transparent hover:border-gray-300 focus:border-blue-500 outline-none resize-y"[39m
      [36m/>[39m
      [36m<p[39m
        [33mclass[39m=[32m"mb-2 text-sm text-gray-500"[39m
      [36m>[39m
        [0mCreated: [0m
        [0mInvalid Date[0m
      [36m</p>[39m
      [36m<div[39m
        [33mclass[39m=[32m"mb-4"[39m
      [36m>[39m
        [36m<strong>[39m
          [0mTags:[0m
        [36m</strong>[39m
        [36m<ul[39m
          [33mclass[39m=[32m"mt-1"[39m
        [36m/>[39m
      [36m</div>[39m
      [36m<div>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-md font-semibold mb-2"[39m
        [36m>[39m
          [0mSegments:[0m
        [36m</h3>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ‚ùØ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ‚ùØ src/components/__tests__/ThoughtDetailPanel.test.jsx:27:32
     25|     render(<ThoughtDetailPanel {...mockProps} />);
     26| 
     27|     const closeButton = screen.getByRole('button', { name: /close/i });
       |                                ^
     28|     fireEvent.click(closeButton);
     29| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[6/18]‚éØ

 FAIL  src/components/__tests__/debug-component-rendering.test.jsx > Component Rendering Debug > diagnostic: what actually renders from AddThoughtModal
TypeError: (0 , debug) is not a function
 ‚ùØ src/components/__tests__/debug-component-rendering.test.jsx:28:5
     26|     
     27|     // Use debug() to see what RTL thinks is rendered
     28|     debug();
       |     ^
     29|     
     30|     // Check if ANY elements exist

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[7/18]‚éØ

 FAIL  src/components/__tests__/debug-component-rendering.test.jsx > Component Rendering Debug > diagnostic: simple div rendering test
TypeError: (0 , debug) is not a function
 ‚ùØ src/components/__tests__/debug-component-rendering.test.jsx:47:5
     45|     const result = render(<TestComponent />);
     46|     console.log('Simple component HTML:', result.container.innerHTML);
     47|     debug();
       |     ^
     48|     
     49|     expect(screen.getByTestId('test-div')).toBeInTheDocument();

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[8/18]‚éØ

 FAIL  src/services/__tests__/graphService.test.js > graphService > findThoughtsByTag returns thoughts with matching tag
AssertionError: expected [] to deeply equal [ { properties: { ‚Ä¶(2) } } ]

[32m- Expected[39m
[31m+ Received[39m

[32m- [[39m
[32m-   {[39m
[32m-     "properties": {[39m
[32m-       "tags": [[39m
[32m-         {[39m
[32m-           "color": "#000",[39m
[32m-           "name": "tag1",[39m
[32m-         },[39m
[32m-       ],[39m
[32m-       "thought_bubble_id": "01HN5G4K8PMXQ0VGWX7CTBZ3YV",[39m
[32m-     },[39m
[32m-   },[39m
[32m- ][39m
[31m+ [][39m

 ‚ùØ src/services/__tests__/graphService.test.js:17:21
     15|   test('findThoughtsByTag returns thoughts with matching tag', async (‚Ä¶
     16|     const results = await graphService.findThoughtsByTag('tag1');
     17|     expect(results).toEqual([{ properties: mockThoughts[0] }]);
       |                     ^
     18|   });
     19| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[9/18]‚éØ

 FAIL  src/utils/__tests__/VoiceInputManager.test.js > VoiceInputManager > initializes with correct configuration
TypeError: Cannot read properties of undefined (reading 'continuous')
 ‚ùØ src/utils/__tests__/VoiceInputManager.test.js:28:28
     26| 
     27|     expect(localManager.isListening).toBe(false);
     28|     expect(mockRecognition.continuous).toBe(true);
       |                            ^
     29|     expect(mockRecognition.interimResults).toBe(true);
     30|   });

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[10/18]‚éØ

 FAIL  src/utils/__tests__/VoiceInputManager.test.js > VoiceInputManager > handles start/stop listening correctly
TypeError: Cannot read properties of undefined (reading 'start')
 ‚ùØ src/utils/__tests__/VoiceInputManager.test.js:41:28
     39| 
     40|     localManager.startListening();
     41|     expect(mockRecognition.start).toHaveBeenCalled();
       |                            ^
     42|     expect(localManager.isListening).toBe(true);
     43| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[11/18]‚éØ

 FAIL  src/utils/__tests__/VoiceInputManager.test.js > VoiceInputManager > handles speech recognition results
TypeError: Cannot read properties of undefined (reading 'onresult')
 ‚ùØ src/utils/__tests__/VoiceInputManager.test.js:59:21
     57|       resultIndex: 0,
     58|     };
     59|     mockRecognition.onresult(mockResults);
       |                     ^
     60|     expect(onTranscriptUpdate).toHaveBeenCalledWith('Hello world.', tr‚Ä¶
     61| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[12/18]‚éØ

 FAIL  src/utils/__tests__/VoiceInputManager.test.js > VoiceInputManager > handles speech recognition errors
TypeError: Cannot read properties of undefined (reading 'onerror')
 ‚ùØ src/utils/__tests__/VoiceInputManager.test.js:88:21
     86|     new VoiceInputManager(onTranscriptUpdate, onError);
     87| 
     88|     mockRecognition.onerror({ error: 'network' });
       |                     ^
     89| 
     90|     expect(onError).toHaveBeenCalledWith('network');

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[13/18]‚éØ

 FAIL  src/utils/__tests__/VoiceInputManager.test.js > VoiceInputManager > checks browser support correctly
TypeError: window.webkitSpeechRecognition is not a constructor
 ‚ùØ VoiceInputManager.initSpeechRecognition src/utils/VoiceInputManager.js:12:26
     10|   initSpeechRecognition() {
     11|     if ('webkitSpeechRecognition' in window) {
     12|       this.recognition = new window.webkitSpeechRecognition();
       |                          ^
     13|       this.recognition.continuous = true;
     14|       this.recognition.interimResults = true;
 ‚ùØ new VoiceInputManager src/utils/VoiceInputManager.js:7:10
 ‚ùØ src/utils/__tests__/VoiceInputManager.test.js:104:32

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[14/18]‚éØ

 FAIL  src/utils/__tests__/VoiceInputManager.test.js > VoiceInputManager > should initialize with default options
TypeError: window.webkitSpeechRecognition is not a constructor
 ‚ùØ VoiceInputManager.initSpeechRecognition src/utils/VoiceInputManager.js:12:26
     10|   initSpeechRecognition() {
     11|     if ('webkitSpeechRecognition' in window) {
     12|       this.recognition = new window.webkitSpeechRecognition();
       |                          ^
     13|       this.recognition.continuous = true;
     14|       this.recognition.interimResults = true;
 ‚ùØ new VoiceInputManager src/utils/VoiceInputManager.js:7:10
 ‚ùØ src/utils/__tests__/VoiceInputManager.test.js:109:21

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[15/18]‚éØ

 FAIL  src/utils/__tests__/dataHandlers.test.js > Data Handling > Export Handler > exports with correct metadata structure
AssertionError: expected "spy" to be called at least once
 ‚ùØ src/utils/__tests__/dataHandlers.test.js:78:42
     76|       const anchorNode = appendChildSpy.mock.calls[0][0];
     77|       expect(anchorNode.download).toBeDefined();
     78|       expect(global.URL.createObjectURL).toHaveBeenCalled();
       |                                          ^
     79|     });
     80|   });

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[16/18]‚éØ

 FAIL  src/utils/__tests__/dataHandlers.test.js > Data Handling > Import Handler > normalizes legacy format thoughts
TypeError: document.createElement(...).onchange is not a function
 ‚ùØ src/utils/__tests__/dataHandlers.test.js:105:32
    103| 
    104|       const changeEvent = { target: { files: [new Blob()] } };
    105|       document.createElement().onchange(changeEvent);
       |                                ^
    106| 
    107|       fileReader.onload({ target: { result: fileReader.result } });

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[17/18]‚éØ

 FAIL  src/utils/__tests__/dataHandlers.test.js > Data Handling > Import Handler > handles modern format with metadata
TypeError: document.createElement(...).onchange is not a function
 ‚ùØ src/utils/__tests__/dataHandlers.test.js:153:32
    151| 
    152|       const changeEvent = { target: { files: [new Blob()] } };
    153|       document.createElement().onchange(changeEvent);
       |                                ^
    154| 
    155|       fileReader.onload({ target: { result: fileReader.result } });

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[18/18]‚éØ


 Test Files  8 failed | 7 passed (15)
      Tests  18 failed | 25 passed (43)
   Start at  05:07:56
   Duration  14.32s (transform 1.24s, setup 16.63s, collect 2.30s, tests 1.61s, environment 32.43s, prepare 5.74s)

